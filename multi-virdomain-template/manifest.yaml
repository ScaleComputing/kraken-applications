version: "1"
type: Application
metadata:
  name: multi-virdomain-template-demo
  labels:
    - Administrator:Scale2025
    - admin:Scale2025
spec:
  resources:
    - type: virdomain
      name: window-template-demo
      spec:
        description: Window Template
        os: windows
        cpu: 0
        memory: "4294967296"
        storage_devices:
          - name: disk1
            type: virtio_disk
            source: "window_disk"
            boot: 1
            capacity: 100000000000 # 100G
        network_devices:
          - name: eth0
            type: virtio
        tags:
          - template
          - window
        state: shutoff
        machine_type: tpm
    - type: virdomain
      name: linux-template-demo
      spec:
        description: Linux template
        cpu: 0
        memory: "4294967296" # 4G
        storage_devices:
          - name: disk2
            type: virtio_disk
            capacity: 50000000000 # 50G
            source: "ubuntu_disk"
            boot: 1
        network_devices:
          - name: eth0
            type: virtio
        tags:
          - template
          - ubuntu
          - linux
        state: shutoff
        machine_type: uefi
  assets:
    - name: ubuntu_disk
      type: virtual_disk
      format: raw
      url: https://cloud-images.ubuntu.com/noble/20250704/noble-server-cloudimg-amd64.img
    - name: window_disk
      type: virtual_disk
      format: raw
      url: https://storage.googleapis.com/demo-bucket/windows-server-2022.img
